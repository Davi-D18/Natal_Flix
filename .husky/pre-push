export HUSKY_DEBUG=1
echo "Verificando branch..." >&2

git fetch

# Obtém informações das branches
LOCAL=$(git rev-parse HEAD)
REMOTE=$(git rev-parse @{u})
BASE=$(git merge-base HEAD @{u})

echo ""

# Verifica o estado de sincronização
if [ "$LOCAL" = "$REMOTE" ]; then
    echo "✅ Tudo sincronizado, finalizando..." >&2
elif [ "$LOCAL" = "$BASE" ]; then
    echo "❌ Sua branch está desatualizada, faça um pull antes de fazer o push." >&2
    exit 1
fi